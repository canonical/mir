/*
 * AUTOGENERATED - DO NOT EDIT
 *
 * This file is generated from xdg-shell.xml
 * To regenerate, run the “refresh-wayland-wrapper” target.
 */

#ifndef MIR_FRONTEND_WAYLAND_XDG_SHELL_XML_WRAPPER
#define MIR_FRONTEND_WAYLAND_XDG_SHELL_XML_WRAPPER

#include <experimental/optional>
#include <boost/throw_exception.hpp>
#include <boost/exception/diagnostic_information.hpp>

#include "xdg-shell.h"

#include "mir/fd.h"
#include "mir/log.h"

namespace mir
{
namespace frontend
{
namespace wayland
{

class XdgWmBase
{
protected:
    XdgWmBase(struct wl_display* display, uint32_t max_version);
    virtual ~XdgWmBase();

    void send_ping_event(struct wl_resource* resource, uint32_t serial);

    struct wl_global* const global;
    uint32_t const max_version;

private:
    struct Thunks;

    virtual void bind(struct wl_client* client, struct wl_resource* resource) { (void)client; (void)resource; }

    virtual void destroy(struct wl_client* client, struct wl_resource* resource) = 0;
    virtual void create_positioner(struct wl_client* client, struct wl_resource* resource, uint32_t id) = 0;
    virtual void get_xdg_surface(struct wl_client* client, struct wl_resource* resource, uint32_t id, struct wl_resource* surface) = 0;
    virtual void pong(struct wl_client* client, struct wl_resource* resource, uint32_t serial) = 0;

    static struct xdg_wm_base_interface const vtable;
};

class XdgPositioner
{
protected:
    XdgPositioner(struct wl_client* client, struct wl_resource* parent, uint32_t id);
    virtual ~XdgPositioner() = default;

    struct wl_client* const client;
    struct wl_resource* const resource;

private:
    struct Thunks;

    virtual void destroy() = 0;
    virtual void set_size(int32_t width, int32_t height) = 0;
    virtual void set_anchor_rect(int32_t x, int32_t y, int32_t width, int32_t height) = 0;
    virtual void set_anchor(uint32_t anchor) = 0;
    virtual void set_gravity(uint32_t gravity) = 0;
    virtual void set_constraint_adjustment(uint32_t constraint_adjustment) = 0;
    virtual void set_offset(int32_t x, int32_t y) = 0;

    static struct xdg_positioner_interface const vtable;
};

class XdgSurface
{
protected:
    XdgSurface(struct wl_client* client, struct wl_resource* parent, uint32_t id);
    virtual ~XdgSurface() = default;

    void send_configure_event(uint32_t serial);

    struct wl_client* const client;
    struct wl_resource* const resource;

private:
    struct Thunks;

    virtual void destroy() = 0;
    virtual void get_toplevel(uint32_t id) = 0;
    virtual void get_popup(uint32_t id, std::experimental::optional<struct wl_resource*> const& parent, struct wl_resource* positioner) = 0;
    virtual void set_window_geometry(int32_t x, int32_t y, int32_t width, int32_t height) = 0;
    virtual void ack_configure(uint32_t serial) = 0;

    static struct xdg_surface_interface const vtable;
};

class XdgToplevel
{
protected:
    XdgToplevel(struct wl_client* client, struct wl_resource* parent, uint32_t id);
    virtual ~XdgToplevel() = default;

    void send_configure_event(int32_t width, int32_t height, struct wl_array* states);
    void send_close_event();

    struct wl_client* const client;
    struct wl_resource* const resource;

private:
    struct Thunks;

    virtual void destroy() = 0;
    virtual void set_parent(std::experimental::optional<struct wl_resource*> const& parent) = 0;
    virtual void set_title(std::string const& title) = 0;
    virtual void set_app_id(std::string const& app_id) = 0;
    virtual void show_window_menu(struct wl_resource* seat, uint32_t serial, int32_t x, int32_t y) = 0;
    virtual void move(struct wl_resource* seat, uint32_t serial) = 0;
    virtual void resize(struct wl_resource* seat, uint32_t serial, uint32_t edges) = 0;
    virtual void set_max_size(int32_t width, int32_t height) = 0;
    virtual void set_min_size(int32_t width, int32_t height) = 0;
    virtual void set_maximized() = 0;
    virtual void unset_maximized() = 0;
    virtual void set_fullscreen(std::experimental::optional<struct wl_resource*> const& output) = 0;
    virtual void unset_fullscreen() = 0;
    virtual void set_minimized() = 0;

    static struct xdg_toplevel_interface const vtable;
};

class XdgPopup
{
protected:
    XdgPopup(struct wl_client* client, struct wl_resource* parent, uint32_t id);
    virtual ~XdgPopup() = default;

    void send_configure_event(int32_t x, int32_t y, int32_t width, int32_t height);
    void send_popup_done_event();

    struct wl_client* const client;
    struct wl_resource* const resource;

private:
    struct Thunks;

    virtual void destroy() = 0;
    virtual void grab(struct wl_resource* seat, uint32_t serial) = 0;

    static struct xdg_popup_interface const vtable;
};

}
}
}

#endif // MIR_FRONTEND_WAYLAND_XDG_SHELL_XML_WRAPPER
